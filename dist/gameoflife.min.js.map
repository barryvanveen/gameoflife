{"version":3,"sources":["gameoflife.js","helpers.js","state.js","canvas.js"],"names":[],"mappings":"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","file":"gameoflife.min.js","sourcesContent":["import State from './state';\nimport Canvas from './canvas';\n\nexport default class GameOfLife {\n\n    constructor(customConfig) {\n        this._defaults = {\n            canvas_id:              \"gameoflife_canvas\",\n            num_cols:               80,\n            num_rows:               40,\n            cell_size:              10,\n            color_lines:            \"#cccccc\",\n            color_cell_dead:        \"#ffffff\",\n            color_cell_alive:       \"#57A0DB\",\n            update_interval:        50\n        };\n        this._interval = null;\n\n        this.config = this._buildConfig(customConfig);\n        this.state = new State(this.config);\n        this.canvas = new Canvas(this.config, this.state);\n        this._setEventListeners();\n    };\n\n    _buildConfig(customConfig) {\n\n        var i;\n\n        var config = this._defaults;\n\n        if (typeof(customConfig) != \"object\") {\n            return;\n        }\n\n        for (i in customConfig) {\n            if (typeof(config[i]) == \"undefined\" || typeof(customConfig[i]) == \"object\") {\n                continue;\n            }\n            config[i] = customConfig[i];\n        }\n\n        return config;\n\n    };\n\n    _setEventListeners() {\n\n        var self = this;\n\n        // todo: test fallback for <=IE10 with attachEvent\n        if (document.addEventListener) {\n\n            this.canvas.canvas.addEventListener('click', function(e) {\n                self.canvas._handleClick(e);\n            }, false);\n\n        } else if (document.attachEvent) {\n\n            this.canvas.canvas.attachEvent('click', function (e) {\n                self.canvas._handleClick(e);\n            });\n\n        }\n\n    };\n\n    setState(cells) {\n\n        var i, cellState;\n\n        this.stop();\n\n        if (cells.length == 0) {\n            return;\n        }\n\n        for (i=0; i<cells.length; i++) {\n            cellState = this.state.changeCell(cells[i].col, cells[i].row);\n            this.canvas._drawCell(cells[i].col, cells[i].row, cellState);\n        }\n\n    }\n\n    reset() {\n\n        this.stop();\n\n        this.state = new State(this.config);\n        this.canvas = new Canvas(this.config, this.state);\n\n    };\n\n    start() {\n\n        if (this._interval != null) {\n            return;\n        }\n\n        var self = this,\n            i, cellState;\n\n        this._interval = setInterval(function() {\n            var changes = self.state.computeNextState();\n\n            if (changes.length == 0) {\n                self.stop();\n                return;\n            }\n\n            for (i=0; i<changes.length; i++) {\n                cellState = self.state.changeCell(changes[i].col, changes[i].row);\n                self.canvas._drawCell(changes[i].col, changes[i].row, cellState);\n            }\n        }, this.config.update_interval);\n\n    };\n\n    step() {\n\n        var changes, cellState, i;\n\n        this.stop();\n\n        changes = this.state.computeNextState();\n\n        if (changes.length == 0) {\n            return;\n        }\n\n        for (i=0; i<changes.length; i++) {\n            cellState = this.state.changeCell(changes[i].col, changes[i].row);\n            this.canvas._drawCell(changes[i].col, changes[i].row, cellState);\n        }\n\n    };\n\n    stop() {\n\n        clearInterval(this._interval);\n        this._interval = null;\n\n    };\n\n}\n","export default class Helpers {\n\n    static getPosition(element) {\n\n        var left = 0,\n            top = 0;\n\n        if (element.offsetParent) {\n            do {\n                left += element.offsetLeft;\n                top += element.offsetTop;\n            } while (element = element.offsetParent);\n        }\n\n        return [left, top];\n\n    };\n\n    static mod(n, m) {\n        return ((m % n) + n) % n;\n    };\n\n}\n","import Helpers from './helpers';\n\nexport default class State {\n\n    constructor(config) {\n\n        this.config = config;\n\n        var col = this.config.num_cols,\n            row;\n\n        this.cells = [];\n        this.changes = [];\n\n        while (col--) {\n            this.cells[col] = [];\n\n            row = this.config.num_rows;\n            while (row--) {\n                this.cells[col][row] = 0;\n            }\n        }\n\n    };\n\n    changeCell(col, row) {\n        this.cells[col][row] = !this.cells[col][row];\n\n        return this.cells[col][row];\n    };\n\n    computeNextState() {\n\n        var count = 0,\n            col, row, rowOffset, colOffset, neighborCol, neighborRow;\n\n        this.changes = [];\n\n        // iterate over all cells\n        col = this.config.num_cols;\n        while (col--) {\n\n            row = this.config.num_rows;\n            while (row--) {\n\n                count = 0;\n\n                // iterate over all neighbors in Moore neighborhood with radius=1\n                for (colOffset = -1; colOffset <= 1; ++colOffset) {\n                    for (rowOffset = -1; rowOffset <= 1; ++rowOffset) {\n                        if (colOffset == 0 && rowOffset == 0) {\n                            continue;\n                        }\n\n                        neighborCol = col + colOffset;\n                        if (neighborCol < 0 || neighborCol >= this.config.num_cols) {\n                            neighborCol = Helpers.mod(this.config.num_cols, neighborCol);\n                        }\n\n                        neighborRow = row + rowOffset;\n                        if (neighborRow < 0 || neighborRow >= this.config.num_rows) {\n                            neighborRow = Helpers.mod(this.config.num_rows, neighborRow);\n                        }\n\n                        // count neighbors that are \"on\" or \"alive\"\n                        if (this.cells[neighborCol][neighborRow]) {\n                            count++;\n                        }\n                    }\n                }\n\n                // determine state of new cells\n                // die if under- or overpopulated\n                if ((count < 2 || count > 3) && this.cells[col][row]) {\n                    this.changes.push({col, row});\n                // come to life if exactly 3 neighbors\n                } else if (count == 3 && !this.cells[col][row]) {\n                    this.changes.push({col, row});\n                }\n\n            }\n        }\n\n        return this.changes;\n\n    };\n\n}\n","import Helpers from './helpers';\n\nexport default class Canvas {\n\n    constructor(config, state) {\n\n        this.config = config;\n        this.state = state;\n\n        this.canvas = document.getElementById(this.config.canvas_id);\n\n        if (this.canvas == null) {\n            throw new Error(\"Canvas element could not be found.\");\n        }\n\n        this.context = this.canvas.getContext(\"2d\");\n\n        if (!this.context) {\n            throw new Error(\"Canvas context could not be retrieved.\");\n        }\n\n        this.context.fillStyle = this.config.color_cell_alive;\n        this.context.strokeStyle = this.config.color_lines;\n\n        this.canvas.width = (this.config.num_cols * this.config.cell_size) + 1;\n        this.canvas.height = (this.config.num_rows * this.config.cell_size) + 1;\n\n        // clear the canvas\n        this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\n        // vertical lines\n        for (var x = 0; x <= this.canvas.width; x += this.config.cell_size) {\n            this.context.moveTo(0.5 + x, 0);\n            this.context.lineTo(0.5 + x, this.canvas.width);\n        }\n\n        // horizontal lines\n        for (var y = 0; y <= this.canvas.width; y += this.config.cell_size) {\n            this.context.moveTo(0, 0.5 + y);\n            this.context.lineTo(this.canvas.width, 0.5 + y);\n        }\n\n        // draw it\n        this.context.stroke();\n\n    };\n\n    _handleClick(e) {\n\n        var cell = this._getCellFromCursorPosition(e);\n\n        if (cell == false) {\n            return;\n        }\n\n        var cellState = this.state.changeCell(cell[0], cell[1]);\n\n        this._drawCell(cell[0], cell[1], cellState);\n\n    };\n\n    _getCellFromCursorPosition(e) {\n\n        var left, top;\n\n        // get coordinates of click on page\n        if (typeof(e.pageX) != \"undefined\" && typeof(e.pageY) != \"undefined\") {\n            left = e.pageX;\n            top = e.pageY;\n        } else {\n            left = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n            top = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n        }\n\n        // get coordinates relative to canvas\n        var canvas_offset = Helpers.getPosition(this.canvas);\n        left -= canvas_offset[0];\n        top -= canvas_offset[1];\n\n        if (left > (this.config.num_cols * this.config.cell_size) || top > (this.config.num_rows * this.config.cell_size)) {\n            return false;\n        }\n\n        // now calculate in which cell this click falls\n        return [Math.floor(left / this.config.cell_size), Math.floor(top / this.config.cell_size)];\n\n    };\n\n    _drawCell(col, row, cellState) {\n\n        if (cellState) {\n            this.context.fillStyle = this.config.color_cell_alive;\n        } else {\n            this.context.fillStyle = this.config.color_cell_dead;\n        }\n\n        // fill rectangle from (col-1,row-1) with width and height of cellSize-1\n        this.context.fillRect(1 + (col*this.config.cell_size), 1 + (row*this.config.cell_size), this.config.cell_size-1, this.config.cell_size-1);\n\n    };\n\n}\n"],"sourceRoot":"/source/"}