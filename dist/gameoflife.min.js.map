{"version":3,"sources":["helpers.js","state.js","canvas.js","gameoflife.js","example.js"],"names":[],"mappings":";;;;;;;;IAAqB,O;;;;;;;oCAEE,O,EAAS;;AAExB,gBAAI,OAAO,CAAX;gBACI,MAAM,CADV;;AAGA,gBAAI,QAAQ,YAAZ,EAA0B;AACtB,mBAAG;AACC,4BAAQ,QAAQ,UAAhB;AACA,2BAAO,QAAQ,SAAf;AACH,iBAHD,QAGS,UAAU,QAAQ,YAH3B;AAIH;;AAED,mBAAO,CAAC,IAAD,EAAO,GAAP,CAAP;AAEH;;;4BAEU,C,EAAG,C,EAAG;AACb,mBAAO,CAAE,IAAI,CAAL,GAAU,CAAX,IAAgB,CAAvB;AACH;;;;;;IClBgB,K;AAEjB,mBAAY,MAAZ,EAAoB;AAAA;;AAEhB,aAAK,MAAL,GAAc,MAAd;;AAEA,YAAI,MAAM,KAAK,MAAL,CAAY,QAAtB;YACI,GADJ;;AAGA,aAAK,KAAL,GAAa,EAAb;AACA,aAAK,OAAL,GAAe,EAAf;;AAEA,eAAO,KAAP,EAAc;AACV,iBAAK,KAAL,CAAW,GAAX,IAAkB,EAAlB;;AAEA,kBAAM,KAAK,MAAL,CAAY,QAAlB;AACA,mBAAO,KAAP,EAAc;AACV,qBAAK,KAAL,CAAW,GAAX,EAAgB,GAAhB,IAAuB,CAAvB;AACH;AACJ;AAEJ;;;;mCAEU,G,EAAK,G,EAAK;AACjB,iBAAK,KAAL,CAAW,GAAX,EAAgB,GAAhB,IAAuB,CAAC,KAAK,KAAL,CAAW,GAAX,EAAgB,GAAhB,CAAxB;;AAEA,mBAAO,KAAK,KAAL,CAAW,GAAX,EAAgB,GAAhB,CAAP;AACH;;;2CAEkB;;AAEf,gBAAI,QAAQ,CAAZ;gBACI,GADJ;gBACS,GADT;gBACc,SADd;gBACyB,SADzB;gBACoC,WADpC;gBACiD,WADjD;;AAGA,iBAAK,OAAL,GAAe,EAAf;;;AAGA,kBAAM,KAAK,MAAL,CAAY,QAAlB;AACA,mBAAO,KAAP,EAAc;;AAEV,sBAAM,KAAK,MAAL,CAAY,QAAlB;AACA,uBAAO,KAAP,EAAc;;AAEV,4BAAQ,CAAR;;;AAGA,yBAAK,YAAY,CAAC,CAAlB,EAAqB,aAAa,CAAlC,EAAqC,EAAE,SAAvC,EAAkD;AAC9C,6BAAK,YAAY,CAAC,CAAlB,EAAqB,aAAa,CAAlC,EAAqC,EAAE,SAAvC,EAAkD;AAC9C,gCAAI,aAAa,CAAb,IAAkB,aAAa,CAAnC,EAAsC;AAClC;AACH;;AAED,0CAAc,MAAM,SAApB;AACA,gCAAI,cAAc,CAAd,IAAmB,eAAe,KAAK,MAAL,CAAY,QAAlD,EAA4D;AACxD,8CAAc,QAAQ,GAAR,CAAY,KAAK,MAAL,CAAY,QAAxB,EAAkC,WAAlC,CAAd;AACH;;AAED,0CAAc,MAAM,SAApB;AACA,gCAAI,cAAc,CAAd,IAAmB,eAAe,KAAK,MAAL,CAAY,QAAlD,EAA4D;AACxD,8CAAc,QAAQ,GAAR,CAAY,KAAK,MAAL,CAAY,QAAxB,EAAkC,WAAlC,CAAd;AACH;;;AAGD,gCAAI,KAAK,KAAL,CAAW,WAAX,EAAwB,WAAxB,CAAJ,EAA0C;AACtC;AACH;AACJ;AACJ;;;;AAID,wBAAI,CAAC,QAAQ,CAAR,IAAa,QAAQ,CAAtB,KAA4B,KAAK,KAAL,CAAW,GAAX,EAAgB,GAAhB,CAAhC,EAAsD;AAClD,6BAAK,OAAL,CAAa,IAAb,CAAkB,EAAC,QAAD,EAAM,QAAN,EAAlB;;AAEH,qBAHD,MAGO,IAAI,SAAS,CAAT,IAAc,CAAC,KAAK,KAAL,CAAW,GAAX,EAAgB,GAAhB,CAAnB,EAAyC;AAC5C,iCAAK,OAAL,CAAa,IAAb,CAAkB,EAAC,QAAD,EAAM,QAAN,EAAlB;AACH;AAEJ;AACJ;;AAED,mBAAO,KAAK,OAAZ;AAEH;;;;;;ICnFgB,M;AAEjB,oBAAY,MAAZ,EAAoB,KAApB,EAA2B;AAAA;;AAEvB,aAAK,MAAL,GAAc,MAAd;AACA,aAAK,KAAL,GAAa,KAAb;;AAEA,aAAK,MAAL,GAAc,SAAS,cAAT,CAAwB,KAAK,MAAL,CAAY,SAApC,CAAd;;AAEA,YAAI,KAAK,MAAL,IAAe,IAAnB,EAAyB;AACrB,kBAAM,IAAI,KAAJ,CAAU,oCAAV,CAAN;AACH;;AAED,aAAK,OAAL,GAAe,KAAK,MAAL,CAAY,UAAZ,CAAuB,IAAvB,CAAf;;AAEA,YAAI,CAAC,KAAK,OAAV,EAAmB;AACf,kBAAM,IAAI,KAAJ,CAAU,wCAAV,CAAN;AACH;;AAED,aAAK,OAAL,CAAa,SAAb,GAAyB,KAAK,MAAL,CAAY,mBAArC;AACA,aAAK,OAAL,CAAa,WAAb,GAA2B,KAAK,MAAL,CAAY,WAAvC;;AAEA,aAAK,MAAL,CAAY,KAAZ,GAAqB,KAAK,MAAL,CAAY,QAAZ,GAAuB,KAAK,MAAL,CAAY,SAApC,GAAiD,CAArE;AACA,aAAK,MAAL,CAAY,MAAZ,GAAsB,KAAK,MAAL,CAAY,QAAZ,GAAuB,KAAK,MAAL,CAAY,SAApC,GAAiD,CAAtE;;;AAGA,aAAK,OAAL,CAAa,SAAb,CAAuB,CAAvB,EAA0B,CAA1B,EAA6B,KAAK,MAAL,CAAY,KAAzC,EAAgD,KAAK,MAAL,CAAY,MAA5D;;;AAGA,aAAK,IAAI,IAAI,CAAb,EAAgB,KAAK,KAAK,MAAL,CAAY,KAAjC,EAAwC,KAAK,KAAK,MAAL,CAAY,SAAzD,EAAoE;AAChE,iBAAK,OAAL,CAAa,MAAb,CAAoB,MAAM,CAA1B,EAA6B,CAA7B;AACA,iBAAK,OAAL,CAAa,MAAb,CAAoB,MAAM,CAA1B,EAA6B,KAAK,MAAL,CAAY,KAAzC;AACH;;;AAGD,aAAK,IAAI,IAAI,CAAb,EAAgB,KAAK,KAAK,MAAL,CAAY,KAAjC,EAAwC,KAAK,KAAK,MAAL,CAAY,SAAzD,EAAoE;AAChE,iBAAK,OAAL,CAAa,MAAb,CAAoB,CAApB,EAAuB,MAAM,CAA7B;AACA,iBAAK,OAAL,CAAa,MAAb,CAAoB,KAAK,MAAL,CAAY,KAAhC,EAAuC,MAAM,CAA7C;AACH;;;AAGD,aAAK,OAAL,CAAa,MAAb;;AAEA,aAAK,mBAAL;AAEH;;;;8CAEqB;;AAElB,gBAAI,OAAO,IAAX;;;AAGA,gBAAI,SAAS,gBAAb,EAA+B;;AAE3B,qBAAK,MAAL,CAAY,gBAAZ,CAA6B,OAA7B,EAAsC,UAAS,CAAT,EAAY;AAC9C,yBAAK,YAAL,CAAkB,CAAlB;AACH,iBAFD,EAEG,KAFH;AAIH,aAND,MAMO,IAAI,SAAS,WAAb,EAA0B;;AAE7B,qBAAK,MAAL,CAAY,WAAZ,CAAwB,OAAxB,EAAiC,UAAU,CAAV,EAAa;AAC1C,yBAAK,YAAL,CAAkB,CAAlB;AACH,iBAFD;AAGH;AAEJ;;;qCAEY,C,EAAG;;AAEZ,gBAAI,OAAO,KAAK,0BAAL,CAAgC,CAAhC,CAAX;;AAEA,gBAAI,QAAQ,KAAZ,EAAmB;AACf;AACH;;AAED,gBAAI,YAAY,KAAK,KAAL,CAAW,UAAX,CAAsB,KAAK,CAAL,CAAtB,EAA+B,KAAK,CAAL,CAA/B,CAAhB;;AAEA,iBAAK,SAAL,CAAe,KAAK,CAAL,CAAf,EAAwB,KAAK,CAAL,CAAxB,EAAiC,SAAjC;AAEH;;;mDAE0B,C,EAAG;;AAE1B,gBAAI,IAAJ,EAAU,GAAV;;;AAGA,gBAAI,OAAO,EAAE,KAAT,IAAmB,WAAnB,IAAkC,OAAO,EAAE,KAAT,IAAmB,WAAzD,EAAsE;AAClE,uBAAO,EAAE,KAAT;AACA,sBAAM,EAAE,KAAR;AACH,aAHD,MAGO;AACH,uBAAO,EAAE,OAAF,GAAY,SAAS,IAAT,CAAc,UAA1B,GAAuC,SAAS,eAAT,CAAyB,UAAvE;AACA,sBAAM,EAAE,OAAF,GAAY,SAAS,IAAT,CAAc,SAA1B,GAAsC,SAAS,eAAT,CAAyB,SAArE;AACH;;;AAGD,gBAAI,gBAAgB,QAAQ,WAAR,CAAoB,KAAK,MAAzB,CAApB;AACA,oBAAQ,cAAc,CAAd,CAAR;AACA,mBAAO,cAAc,CAAd,CAAP;;AAEA,gBAAI,OAAQ,KAAK,MAAL,CAAY,QAAZ,GAAuB,KAAK,MAAL,CAAY,SAA3C,IAAyD,MAAO,KAAK,MAAL,CAAY,QAAZ,GAAuB,KAAK,MAAL,CAAY,SAAvG,EAAmH;AAC/G,uBAAO,KAAP;AACH;;;AAGD,mBAAO,CAAC,KAAK,KAAL,CAAW,OAAO,KAAK,MAAL,CAAY,SAA9B,CAAD,EAA2C,KAAK,KAAL,CAAW,MAAM,KAAK,MAAL,CAAY,SAA7B,CAA3C,CAAP;AAEH;;;kCAES,G,EAAK,G,EAAK,S,EAAW;;AAE3B,gBAAI,SAAJ,EAAe;AACX,qBAAK,OAAL,CAAa,SAAb,GAAyB,KAAK,MAAL,CAAY,mBAArC;AACH,aAFD,MAEO;AACH,qBAAK,OAAL,CAAa,SAAb,GAAyB,KAAK,MAAL,CAAY,gBAArC;AACH;;;AAGD,iBAAK,OAAL,CAAa,QAAb,CAAsB,IAAK,MAAI,KAAK,MAAL,CAAY,SAA3C,EAAuD,IAAK,MAAI,KAAK,MAAL,CAAY,SAA5E,EAAwF,KAAK,MAAL,CAAY,SAAZ,GAAsB,CAA9G,EAAiH,KAAK,MAAL,CAAY,SAAZ,GAAsB,CAAvI;AAEH;;;;;;IC9GgB,U;AAEjB,wBAAY,YAAZ,EAA0B;AAAA;;AACtB,aAAK,SAAL,GAAiB;AACb,uBAAwB,mBADX;AAEb,sBAAwB,EAFX;AAGb,sBAAwB,EAHX;AAIb,uBAAwB,EAJX;AAKb,yBAAwB,SALX;AAMb,8BAAwB,SANX;AAOb,iCAAwB,SAPX;AAQb,6BAAwB;AARX,SAAjB;AAUA,aAAK,SAAL,GAAiB,IAAjB;;AAEA,aAAK,MAAL,GAAc,KAAK,YAAL,CAAkB,YAAlB,CAAd;AACA,aAAK,KAAL,GAAa,IAAI,KAAJ,CAAU,KAAK,MAAf,CAAb;AACA,aAAK,MAAL,GAAc,IAAI,MAAJ,CAAW,KAAK,MAAhB,EAAwB,KAAK,KAA7B,CAAd;AACH;;;;qCAEY,Y,EAAc;;AAEvB,gBAAI,CAAJ;;AAEA,gBAAI,SAAS,KAAK,SAAlB;;AAEA,gBAAI,QAAO,YAAP,yCAAO,YAAP,MAAwB,QAA5B,EAAsC;AAClC;AACH;;AAED,iBAAK,CAAL,IAAU,YAAV,EAAwB;AACpB,oBAAI,OAAO,OAAO,CAAP,CAAP,IAAqB,WAArB,IAAoC,QAAO,aAAa,CAAb,CAAP,KAA2B,QAAnE,EAA6E;AACzE;AACH;AACD,uBAAO,CAAP,IAAY,aAAa,CAAb,CAAZ;AACH;;AAED,mBAAO,MAAP;AAEH;;;gCAEO;;AAEJ,iBAAK,IAAL;;AAEA,iBAAK,KAAL,GAAa,IAAI,KAAJ,CAAU,KAAK,MAAf,CAAb;AACA,iBAAK,MAAL,GAAc,IAAI,MAAJ,CAAW,KAAK,MAAhB,CAAd;AAEH;;;gCAEO;;AAEJ,gBAAI,KAAK,SAAL,IAAkB,IAAtB,EAA4B;AACxB;AACH;;AAED,gBAAI,OAAO,IAAX;gBACI,CADJ;gBACO,SADP;;;AAIA,iBAAK,SAAL,GAAiB,YAAY,YAAW;AACpC,oBAAI,UAAU,KAAK,KAAL,CAAW,gBAAX,EAAd;;AAEA,oBAAI,QAAQ,MAAR,IAAkB,CAAtB,EAAyB;AACrB,yBAAK,IAAL;AACA;AACH;;AAED,qBAAK,IAAE,CAAP,EAAU,IAAE,QAAQ,MAApB,EAA4B,GAA5B,EAAiC;AAC7B,gCAAY,KAAK,KAAL,CAAW,UAAX,CAAsB,QAAQ,CAAR,EAAW,GAAjC,EAAsC,QAAQ,CAAR,EAAW,GAAjD,CAAZ;AACA,yBAAK,MAAL,CAAY,SAAZ,CAAsB,QAAQ,CAAR,EAAW,GAAjC,EAAsC,QAAQ,CAAR,EAAW,GAAjD,EAAsD,SAAtD;AACH;AACJ,aAZgB,EAYd,KAAK,MAAL,CAAY,eAZE,CAAjB;AAcH;;;+BAEM;;AAEH,gBAAI,OAAJ,EAAa,SAAb,EAAwB,CAAxB;;AAEA,0BAAc,KAAK,SAAnB;AACA,iBAAK,SAAL,GAAiB,IAAjB;;AAEA,sBAAU,KAAK,KAAL,CAAW,gBAAX,EAAV;;AAEA,gBAAI,QAAQ,MAAR,IAAkB,CAAtB,EAAyB;AACrB;AACH;;AAED,iBAAK,IAAE,CAAP,EAAU,IAAE,QAAQ,MAApB,EAA4B,GAA5B,EAAiC;AAC7B,4BAAY,KAAK,KAAL,CAAW,UAAX,CAAsB,QAAQ,CAAR,EAAW,GAAjC,EAAsC,QAAQ,CAAR,EAAW,GAAjD,CAAZ;AACA,qBAAK,MAAL,CAAY,SAAZ,CAAsB,QAAQ,CAAR,EAAW,GAAjC,EAAsC,QAAQ,CAAR,EAAW,GAAjD,EAAsD,SAAtD;AACH;AAEJ;;;+BAEM;;AAEH,0BAAc,KAAK,SAAnB;AACA,iBAAK,SAAL,GAAiB,IAAjB;AAEH;;;;;;AC9GL,IAAI,UAAU,IAAI,UAAJ,CAAe;AACzB,eAAwB,mBADC;AAEzB,cAAwB,EAFC;AAGzB,cAAwB,EAHC;AAIzB,eAAwB,EAJC;AAKzB,iBAAwB,SALC;AAMzB,sBAAwB,SANC;AAOzB,yBAAwB,SAPC;AAQzB,qBAAwB;AARC,CAAf,CAAd;;AAWA,EAAE,cAAF,EAAkB,KAAlB,CAAwB,YAAW;AAAC,YAAQ,KAAR;AAAgB,CAApD;AACA,EAAE,aAAF,EAAiB,KAAjB,CAAuB,YAAW;AAAC,YAAQ,IAAR;AAAe,CAAlD;AACA,EAAE,aAAF,EAAiB,KAAjB,CAAuB,YAAW;AAAC,YAAQ,IAAR;AAAe,CAAlD;AACA,EAAE,cAAF,EAAkB,KAAlB,CAAwB,YAAW;AAAC,YAAQ,KAAR;AAAgB,CAApD;;AAEA,IAAI,YAAY,IAAI,UAAJ,CAAe;AAC3B,eAAwB,yBADG;AAE3B,cAAwB,EAFG;AAG3B,cAAwB,EAHG;AAI3B,eAAwB,CAJG;AAK3B,iBAAwB,SALG;AAM3B,sBAAwB,SANG;AAO3B,yBAAwB,SAPG;AAQ3B,qBAAwB;AARG,CAAf,CAAhB;;AAWA,EAAE,cAAF,EAAkB,KAAlB,CAAwB,YAAW;AAAC,cAAU,KAAV;AAAkB,CAAtD;AACA,EAAE,aAAF,EAAiB,KAAjB,CAAuB,YAAW;AAAC,cAAU,IAAV;AAAiB,CAApD;AACA,EAAE,aAAF,EAAiB,KAAjB,CAAuB,YAAW;AAAC,cAAU,IAAV;AAAiB,CAApD;AACA,EAAE,cAAF,EAAkB,KAAlB,CAAwB,YAAW;AAAC,cAAU,KAAV;AAAkB,CAAtD","file":"gameoflife.min.js","sourcesContent":["export default class Helpers {\r\n\r\n    static getPosition(element) {\r\n\r\n        var left = 0,\r\n            top = 0;\r\n\r\n        if (element.offsetParent) {\r\n            do {\r\n                left += element.offsetLeft;\r\n                top += element.offsetTop;\r\n            } while (element = element.offsetParent);\r\n        }\r\n\r\n        return [left, top];\r\n\r\n    };\r\n\r\n    static mod(n, m) {\r\n        return ((m % n) + n) % n;\r\n    };\r\n\r\n}\r\n","import Helpers from './helpers';\r\n\r\nexport default class State {\r\n\r\n    constructor(config) {\r\n\r\n        this.config = config;\r\n\r\n        var col = this.config.num_cols,\r\n            row;\r\n\r\n        this.cells = [];\r\n        this.changes = [];\r\n\r\n        while (col--) {\r\n            this.cells[col] = [];\r\n\r\n            row = this.config.num_rows;\r\n            while (row--) {\r\n                this.cells[col][row] = 0;\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    changeCell(col, row) {\r\n        this.cells[col][row] = !this.cells[col][row];\r\n\r\n        return this.cells[col][row];\r\n    };\r\n\r\n    computeNextState() {\r\n\r\n        var count = 0,\r\n            col, row, rowOffset, colOffset, neighborCol, neighborRow;\r\n\r\n        this.changes = [];\r\n\r\n        // iterate over all cells\r\n        col = this.config.num_cols;\r\n        while (col--) {\r\n\r\n            row = this.config.num_rows;\r\n            while (row--) {\r\n\r\n                count = 0;\r\n\r\n                // iterate over all neighbors in Moore neighborhood with radius=1\r\n                for (colOffset = -1; colOffset <= 1; ++colOffset) {\r\n                    for (rowOffset = -1; rowOffset <= 1; ++rowOffset) {\r\n                        if (colOffset == 0 && rowOffset == 0) {\r\n                            continue;\r\n                        }\r\n\r\n                        neighborCol = col + colOffset;\r\n                        if (neighborCol < 0 || neighborCol >= this.config.num_cols) {\r\n                            neighborCol = Helpers.mod(this.config.num_cols, neighborCol);\r\n                        }\r\n\r\n                        neighborRow = row + rowOffset;\r\n                        if (neighborRow < 0 || neighborRow >= this.config.num_rows) {\r\n                            neighborRow = Helpers.mod(this.config.num_rows, neighborRow);\r\n                        }\r\n\r\n                        // count neighbors that are \"on\" or \"alive\"\r\n                        if (this.cells[neighborCol][neighborRow]) {\r\n                            count++;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // determine state of new cells\r\n                // die if under- or overpopulated\r\n                if ((count < 2 || count > 3) && this.cells[col][row]) {\r\n                    this.changes.push({col, row});\r\n                // come to life if exactly 3 neighbors\r\n                } else if (count == 3 && !this.cells[col][row]) {\r\n                    this.changes.push({col, row});\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        return this.changes;\r\n\r\n    };\r\n\r\n}\r\n","import Helpers from './helpers';\r\n\r\nexport default class Canvas {\r\n\r\n    constructor(config, state) {\r\n\r\n        this.config = config;\r\n        this.state = state;\r\n\r\n        this.canvas = document.getElementById(this.config.canvas_id);\r\n\r\n        if (this.canvas == null) {\r\n            throw new Error(\"Canvas element could not be found.\");\r\n        }\r\n\r\n        this.context = this.canvas.getContext(\"2d\");\r\n\r\n        if (!this.context) {\r\n            throw new Error(\"Canvas context could not be retrieved.\");\r\n        }\r\n\r\n        this.context.fillStyle = this.config.color_cell_selected;\r\n        this.context.strokeStyle = this.config.color_lines;\r\n\r\n        this.canvas.width = (this.config.num_cols * this.config.cell_size) + 1;\r\n        this.canvas.height = (this.config.num_rows * this.config.cell_size) + 1;\r\n\r\n        // clear the canvas\r\n        this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n\r\n        // vertical lines\r\n        for (var x = 0; x <= this.canvas.width; x += this.config.cell_size) {\r\n            this.context.moveTo(0.5 + x, 0);\r\n            this.context.lineTo(0.5 + x, this.canvas.width);\r\n        }\r\n\r\n        // horizontal lines\r\n        for (var y = 0; y <= this.canvas.width; y += this.config.cell_size) {\r\n            this.context.moveTo(0, 0.5 + y);\r\n            this.context.lineTo(this.canvas.width, 0.5 + y);\r\n        }\r\n\r\n        // draw it\r\n        this.context.stroke();\r\n\r\n        this._initEventListeners();\r\n\r\n    };\r\n\r\n    _initEventListeners() {\r\n\r\n        var self = this;\r\n\r\n        // todo: test fallback for <=IE10 with attachEvent\r\n        if (document.addEventListener) {\r\n\r\n            this.canvas.addEventListener('click', function(e) {\r\n                self._handleClick(e);\r\n            }, false);\r\n\r\n        } else if (document.attachEvent) {\r\n\r\n            this.canvas.attachEvent('click', function (e) {\r\n                self._handleClick(e);\r\n            });\r\n        }\r\n\r\n    };\r\n\r\n    _handleClick(e) {\r\n\r\n        var cell = this._getCellFromCursorPosition(e);\r\n\r\n        if (cell == false) {\r\n            return;\r\n        }\r\n\r\n        var cellState = this.state.changeCell(cell[0], cell[1]);\r\n\r\n        this._drawCell(cell[0], cell[1], cellState);\r\n\r\n    };\r\n\r\n    _getCellFromCursorPosition(e) {\r\n\r\n        var left, top;\r\n\r\n        // get coordinates of click on page\r\n        if (typeof(e.pageX) != \"undefined\" && typeof(e.pageY) != \"undefined\") {\r\n            left = e.pageX;\r\n            top = e.pageY;\r\n        } else {\r\n            left = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\r\n            top = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\r\n        }\r\n\r\n        // get coordinates relative to canvas\r\n        var canvas_offset = Helpers.getPosition(this.canvas);\r\n        left -= canvas_offset[0];\r\n        top -= canvas_offset[1];\r\n\r\n        if (left > (this.config.num_cols * this.config.cell_size) || top > (this.config.num_rows * this.config.cell_size)) {\r\n            return false;\r\n        }\r\n\r\n        // now calculate in which cell this click falls\r\n        return [Math.floor(left / this.config.cell_size), Math.floor(top / this.config.cell_size)];\r\n\r\n    };\r\n\r\n    _drawCell(col, row, cellState) {\r\n\r\n        if (cellState) {\r\n            this.context.fillStyle = this.config.color_cell_selected;\r\n        } else {\r\n            this.context.fillStyle = this.config.color_cell_empty;\r\n        }\r\n\r\n        // fill rectangle from (col-1,row-1) with width and height of cellSize-1\r\n        this.context.fillRect(1 + (col*this.config.cell_size), 1 + (row*this.config.cell_size), this.config.cell_size-1, this.config.cell_size-1);\r\n\r\n    };\r\n\r\n}\r\n","/*\n * GameOfLife JavaScript Plugin v1.0.0\n * https://github.com/barryvanveen/gameoflife\n *\n * Released under the MIT license\n * http://choosealicense.com/licenses/mit/\n */\n\nimport State from './state';\nimport Canvas from './canvas';\n\nexport default class GameOfLife {\n\n    constructor(customConfig) {\n        this._defaults = {\n            canvas_id:              \"gameoflife_canvas\",\n            num_cols:               80,\n            num_rows:               40,\n            cell_size:              10,\n            color_lines:            \"#cccccc\",\n            color_cell_empty:       \"#ffffff\",\n            color_cell_selected:    \"#57A0DB\",\n            update_interval:        50\n        };\n        this._interval = null;\n\n        this.config = this._buildConfig(customConfig);\n        this.state = new State(this.config);\n        this.canvas = new Canvas(this.config, this.state);\n    };\n\n    _buildConfig(customConfig) {\n\n        var i;\n\n        var config = this._defaults;\n\n        if (typeof(customConfig) != \"object\") {\n            return;\n        }\n\n        for (i in customConfig) {\n            if (typeof(config[i]) == \"undefined\" || typeof(customConfig[i]) == \"object\") {\n                continue;\n            }\n            config[i] = customConfig[i];\n        }\n\n        return config;\n\n    };\n\n    reset() {\n\n        this.stop();\n\n        this.state = new State(this.config);\n        this.canvas = new Canvas(this.config);\n\n    };\n\n    start() {\n\n        if (this._interval != null) {\n            return;\n        }\n\n        var self = this,\n            i, cellState;\n\n        // todo: replace with requestAnimationFrame?\n        this._interval = setInterval(function() {\n            var changes = self.state.computeNextState();\n\n            if (changes.length == 0) {\n                self.stop();\n                return;\n            }\n\n            for (i=0; i<changes.length; i++) {\n                cellState = self.state.changeCell(changes[i].col, changes[i].row);\n                self.canvas._drawCell(changes[i].col, changes[i].row, cellState);\n            }\n        }, this.config.update_interval);\n\n    };\n\n    step() {\n\n        var changes, cellState, i;\n\n        clearInterval(this._interval);\n        this._interval = null;\n\n        changes = this.state.computeNextState();\n\n        if (changes.length == 0) {\n            return;\n        }\n\n        for (i=0; i<changes.length; i++) {\n            cellState = this.state.changeCell(changes[i].col, changes[i].row);\n            this.canvas._drawCell(changes[i].col, changes[i].row, cellState);\n        }\n\n    };\n\n    stop() {\n\n        clearInterval(this._interval);\n        this._interval = null;\n\n    };\n\n}\n","import GameOfLife from './gameoflife';\r\n\r\nvar BigGame = new GameOfLife({\r\n    canvas_id:              \"gameoflife_canvas\",\r\n    num_cols:               80,\r\n    num_rows:               40,\r\n    cell_size:              10,\r\n    color_lines:            \"#cccccc\",\r\n    color_cell_empty:       \"#ffffff\",\r\n    color_cell_selected:    \"#57A0DB\",\r\n    update_interval:        50\r\n});\r\n\r\n$('.game1_start').click(function() {BigGame.start()});\r\n$('.game1_stop').click(function() {BigGame.stop()});\r\n$('.game1_step').click(function() {BigGame.step()});\r\n$('.game1_reset').click(function() {BigGame.reset()});\r\n\r\nvar SmallGame = new GameOfLife({\r\n    canvas_id:              \"gameoflife_canvas_small\",\r\n    num_cols:               80,\r\n    num_rows:               40,\r\n    cell_size:              5,\r\n    color_lines:            \"#cccccc\",\r\n    color_cell_empty:       \"#ffffff\",\r\n    color_cell_selected:    \"#57A0DB\",\r\n    update_interval:        50\r\n});\r\n\r\n$('.game2_start').click(function() {SmallGame.start()});\r\n$('.game2_stop').click(function() {SmallGame.stop()});\r\n$('.game2_step').click(function() {SmallGame.step()});\r\n$('.game2_reset').click(function() {SmallGame.reset()});"],"sourceRoot":"/source/"}